<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Simple</title>
	<script src="crafty_client.js"></script>
	<script src="npm_crafty.js"></script>
  </head>
  <body>
	<script>
	window.onload = function() {
		exports.setupDefault(function() { //immediate callback after Crafty with Crafty.net is available
			
			//create Crafty Client
			Crafty = exports.createClient("CLIENT");
			
			//client will receive event and send back to server
			Crafty.netBind("CustomEvent", function(data) {
				console.log("1. Client receive event");
				Crafty.netTrigger("CustomEvent", data, false);
			});
			
		}, function(socket) { //connect callback
		
			//bind client socket to server socket
			exports.setServer(Crafty, socket);
			
		}, function(socket) { // disconnect callback
		});
	};
	</script>
  </body>
</html>